<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Calendario de Contenido</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext x='50%25' y='50%25' font-size='80' text-anchor='middle' dominant-baseline='central'%3EüóìÔ∏è%3C/text%3E%3C/svg%3E" />
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext x='50%25' y='50%25' font-size='80' text-anchor='middle' dominant-baseline='central'%3EüóìÔ∏è%3C/text%3E%3C/svg%3E">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
    <div id="app-wrapper">
        <div id="container">
            <!-- Header con navegaci√≥n -->
            <div id="header">
                <div id="monthDisplay"></div>
                <div class="nav-buttons">
                    <button id="backButton" class="icon-button">&lt;</button>
                    <button id="nextButton" class="icon-button">&gt;</button>
                </div>
            </div>

            <!-- D√≠as de la semana - AHORA EMPIEZA CON LUNES -->
            <div id="weekdays">
                <div>Lun</div>
                <div>Mar</div>
                <div>Mi√©</div>
                <div>Jue</div>
                <div>Vie</div>
                <div>S√°b</div>
                <div>Dom</div>
            </div>

            <!-- Calendario principal -->
            <div id="calendar"></div>

            <!-- Barra de progreso semanal -->
            <div id="weeklyProgressBar" class="progress-bar-container">
                <div class="progress-bar-label">Semanal: <span id="weeklyProgressText">0/0</span></div>
                <div class="progress-bar-fill"></div>
            </div>

            <!-- Botones de configuraci√≥n y logros -->
            <button id="settingsButton" class="settings-btn">‚öôÔ∏è Configuraci√≥n</button>
            <button id="achievementsButton" class="settings-btn">üèÜ Logros</button>

            <!-- Contenedor de autenticaci√≥n -->
            <div id="authContainer">
                <p id="userStatus" class="user-status">No hay sesi√≥n iniciada.</p>
                <button id="googleSignInButton" class="action-button google-button">Iniciar Sesi√≥n con Google</button>
                <button id="signOutButton" class="action-button google-button hide">Cerrar Sesi√≥n</button>
            </div>

            <!-- Contador de racha -->
            <div id="streakContainer" class="streak-container">
                <span class="streak-label">üî• Racha: </span>
                <span id="currentStreak" class="streak-value">0 d√≠as</span>
            </div>
        </div>
    </div>

    <!-- Modal de Checklist Diario -->
    <div id="checklistModal" class="modal-backdrop hide">
        <div class="modal-content">
            <h3 id="checklistTitle"></h3>
            <div id="dailyProgressBar" class="progress-bar-container small-progress">
                <div class="progress-bar-label"><span id="dailyProgressText">0/0</span> Completados</div>
                <div class="progress-bar-fill"></div>
            </div>
            <div id="checklist-container"></div>
            <button id="closeChecklistButton" class="action-button close-button">Cerrar</button>
        </div>
    </div>

    <!-- Modal de Configuraci√≥n -->
    <div id="setupModal" class="modal-backdrop hide">
        <div class="modal-content">
            <h3>Configuraci√≥n General</h3>
            
            <div class="config-section">
                <label for="shortsPerChannel">Shorts por d√≠a por canal</label>
                <input type="number" id="shortsPerChannel" min="1" value="2">
            </div>

            <div class="config-section">
                <p>A√±ade o elimina tus canales de YouTube.</p>
                <form id="addChannelForm">
                    <div class="form-group">
                        <input type="text" id="newChannelName" placeholder="Nombre del nuevo canal" autocomplete="off">
                        <button type="submit" class="add-btn">+</button>
                    </div>
                </form>
                <ul id="channelList"></ul>
            </div>
            <button id="closeSetupButton" class="action-button primary-button">Listo</button>
        </div>
    </div>

    <!-- Modal de Logros -->
    <div id="achievementsModal" class="modal-backdrop hide">
        <div class="modal-content">
            <h3>Tus Logros</h3>
            <div id="achievements-container">
                <p class="no-achievements">A√∫n no tienes logros. ¬°Sigue publicando videos!</p>
            </div>
            <button id="closeAchievementsButton" class="action-button primary-button">Cerrar</button>
        </div>
    </div>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <!-- Configuraci√≥n de Firebase -->
    <script>
        // ‚ö†Ô∏è IMPORTANTE: REEMPLAZA ESTAS CREDENCIALES CON LAS TUYAS
        const firebaseConfig = {
            apiKey: "AIzaSyBlBkohGWO6rh3RfIa2Cr-2i6hXccgl5Cs",
            authDomain: "mi-calendario-de-contenido.firebaseapp.com",
            projectId: "mi-calendario-de-contenido",
            storageBucket: "mi-calendario-de-contenido.firebasestorage.app",
            messagingSenderId: "19719497381",
            appId: "1:19719497381:web:f04a562f08b9af49bb8f4c",
            measurementId: "G-X0XKKXQRZQ"
        };

        // Inicializar Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = app.auth();
        const db = app.firestore();
    </script>

    <!-- Script principal de la aplicaci√≥n -->
    <script src="script.js"></script>
</body>
</html>